（可以直接看下边的重要设计）
记得所有单据都要考虑总经理的审批！！

关于运费，因为不想再制定付款单时再去查所有单据的上的运费数据，所以打算系统知道有关运费的单据通过后，就存起来，财务人员定完付款单就清空

某一人员登陆时，系统记下一些关于该机构和该人员的常量，比如机构编号和个人信息，这样填写单据方便一点。

总经理的审批单据模块应该独立出来。

在总经理审批单据、单据发送者查看是否审批通过、一个机构得到即将到达的快递的方式采用轮询。

所有送货相关的单据添加一个锁字段。

注意：在设计dataservice尽量不要让他具有状态，这是rmi的一个要求

体系架构图改的更详细了一点，大家注意更改。

txt中记录一些配置信息，如主机IP


新增加的假设：
	假设总经理对单据的审批总是通过。
	快递不会损坏	

      


总结一下我们几个重要的设计：

1.采用一张表，名字为 expressorder 来专门记录快递自身信息，如收件人寄件人出发地到达地，物流编号，以及即将送往的地点，和物流的历史轨迹。这是系统中最重要的一张表。

2.营业厅、中转中心可以自动获取，即将送来的快递、已经送来但还没有送走的快递 的功能，仓库具有自动化获取 即将入库的快递、和被要求出库的快递的功能。为了不破坏分层结构和简化系统，采用轮询方式获取。这是系统最重要的功能。

3.有关物流的单据（派件、到达、出入库、装车、中转等）不仅具有草稿、提交、通过审批状态，在通过审批之后有一个锁状态（用处看下边）。

4 所有单据的处理流程为制定单据―提交至服务器，服务器存储所有未审批单据。总经理采用轮询获取未审批单据，审批通过后，服务器更改单据状态为审批通过。对于账单，审批通过后直接修改银行账户数据即可。快递员提交的订单以及各种物流单，服务器将其锁字段设为未锁，被营业厅或者中转中心读取之后，设为锁（为了防止同一机构人员重复读取）。假如是快递员提交的订单，那么expressorder要增加其信息。

营业厅、中转中心、仓库通过轮询方式把数据库中的，以自己为暂时目的地的通过审批的单据，拉取至本地，并将其上锁


5 对于快递员揽到的快递，应将通过账单bl，将其快递费填入本营业厅的收款单中。

6 用户登陆后，系统记下一些关于该机构和该人员的常量，比如机构编号和个人信息，这样填写单据方便一点。
